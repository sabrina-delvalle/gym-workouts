{% extends 'layout.html' %}
{% load widget_tweaks %}
{% load static %}

{% block title %}
    Profile
{% endblock %}

{% block content %}
    <section class="flex flex-row justify-center gap-x-32 my-20 mb-32">
        <section class="flex flex-col items-center">
            <h1 class="font-extralight text-6xl text-pink-500 py-2">Profile</h1>
            <div class="font-extralight text-3xl text-neutral-500 py-14">
                Monday

                    <!-- Selected Options Container -->
                    <div id="selected-options" class="my-4 min-h-10 border-2 border-dashed border-gray-200 rounded-lg p-4">
                        <!-- Selected options will appear here -->
                    </div>

                    <div class="p-10">
                        <!-- Dropdown Container -->
                        <div class="relative inline-block text-left self-center">
                            <!-- Dropdown Button -->
                            <button id="dropdown-button" class="flex justify-center items-center text-pink-500 w-32 h-16 rounded-md border border-gray-300 shadow-sm px-4 py-2 bg-white text-sm font-light hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500">
                                Agregar
                                <!-- Dropdown Icon -->
                                <svg class="-mr-1 ml-2 h-5 w-5" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor">
                                    <path fill-rule="evenodd" d="M5.293 7.293a1 1 0 011.414 0L10 10.586l3.293-3.293a1 1 0 111.414 1.414l-4 4a1 1 0 01-1.414 0l-4-4a1 1 0 010-1.414z" clip-rule="evenodd" />
                                </svg>
                            </button>

                            <!-- Dropdown Menu (Hidden by default) -->
                            <div id="dropdown-menu" class="hidden origin-top-right absolute right-0 mt-2 w-56 rounded-md shadow-lg bg-white ring-1 ring-black ring-opacity-5 focus:outline-none z-10">
                                <div class="py-1" role="none">
                                    <a href="#" class="dropdown-option block px-4 py-2 text-sm text-gray-700 hover:bg-gray-100 hover:text-gray-900" role="menuitem">Home</a>
                                    <a href="#" class="dropdown-option block px-4 py-2 text-sm text-gray-700 hover:bg-gray-100 hover:text-gray-900" role="menuitem">About</a>
                                    <a href="#" class="dropdown-option block px-4 py-2 text-sm text-gray-700 hover:bg-gray-100 hover:text-gray-900" role="menuitem">Services</a>
                                    <a href="#" class="dropdown-option block px-4 py-2 text-sm text-gray-700 hover:bg-gray-100 hover:text-gray-900" role="menuitem">Contact</a>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <script>
                    const button = document.getElementById('dropdown-button');
                    const menu = document.getElementById('dropdown-menu');
                    const selectedOptionsContainer = document.getElementById('selected-options');
                    const dropdownOptions = document.querySelectorAll('.dropdown-option');

                    // Track selected options
                    const selectedOptions = new Set();

                    button.addEventListener('click', () => {
                        menu.classList.toggle('hidden');
                    });

                    // Close the dropdown if clicked outside
                    document.addEventListener('click', (e) => {
                        if (!button.contains(e.target) && !menu.contains(e.target)) {
                            menu.classList.add('hidden');
                        }
                    });

                    // Handle option selection
                    dropdownOptions.forEach(option => {
                        option.addEventListener('click', (e) => {
                            e.preventDefault();
                            const optionText = option.textContent;
                            
                            if (!selectedOptions.has(optionText)) {
                                // Add to selected options
                                selectedOptions.add(optionText);
                                
                                // Create selected option element
                                const selectedOption = document.createElement('div');
                                selectedOption.className = 'inline-block bg-gray-100 rounded-full px-3 py-1 text-sm font-light text-gray-700 mr-2 mb-2';
                                selectedOption.textContent = optionText;
                                
                                // Add remove button
                                const removeBtn = document.createElement('button');
                                removeBtn.className = 'ml-2 text-pink-500 hover:text-pink-700';
                                removeBtn.innerHTML = '&times;';
                                removeBtn.addEventListener('click', () => {
                                    selectedOptions.delete(optionText);
                                    selectedOption.remove();
                                    // Add back to dropdown
                                    option.classList.remove('hidden');
                                });
                                
                                selectedOption.appendChild(removeBtn);
                                selectedOptionsContainer.appendChild(selectedOption);
                                
                                // Hide from dropdown
                                option.classList.add('hidden');
                            }
                            
                            menu.classList.add('hidden');
                        });
                    });
                </script>
            </div>
        </section>
    </section>

{% endblock %} 